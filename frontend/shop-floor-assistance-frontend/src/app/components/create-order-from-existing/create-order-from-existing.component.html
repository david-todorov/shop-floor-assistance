<div class="container p-14 border rounded-lg shadow max-w-4xl mx-auto">
  <span class="text-2xl font-semibold mb-5 block text-center">Create Order from Existing</span>

  <div class="two-column-layout">
    <!-- Suggestions Section -->
    <div class="suggestions border-r pr-4">
      <div class="text-center mb-5">
        <span class="text-xl font-semibold">Select an Existing Order:</span>
      </div>

      <div class="grid grid-cols-1 gap-4 mb-5">
        <div
          *ngFor="let suggestion of suggestions"
          class="suggestion-card p-4 border rounded cursor-pointer hover:bg-gray-100"
          (click)="selectSuggestion(suggestion)"
        >
          <h3 class="font-semibold">{{ suggestion.name }}</h3>
          <p>{{ suggestion.description }}</p>
          <p class="text-gray-500 text-sm">Order Number: {{ suggestion.orderNumber }}</p>
        </div>
      </div>
    </div>

    <!-- Order Form Section -->
    <div class="edit-form pl-4" *ngIf="selectedOrder">
      <div class="text-center mb-5">
        <span class="text-xl font-semibold">Edit Selected Order:</span>
      </div>

      <div class="grid grid-cols-2 gap-4 mb-5">
        <div class="font-semibold">Order Number</div>
        <div>
          <input
            type="text"
            placeholder="Enter Order Number"
            class="input-field"
            [(ngModel)]="selectedOrder.orderNumber"
            (input)="checkUniqueOrderNumber()"
          />
          <p *ngIf="orderNumberExists" class="text-red-500 text-sm">
            Order number must be unique.
          </p>
        </div>

        <div class="font-semibold">Name</div>
        <div>
          <input
            type="text"
            placeholder="Enter Name"
            class="input-field"
            [(ngModel)]="selectedOrder.name"
          />
        </div>

        <div class="font-semibold">Description</div>
        <div>
          <input
            type="text"
            placeholder="Enter Description"
            class="input-field"
            [(ngModel)]="selectedOrder.description"
          />
        </div>

        <div class="font-semibold">Equipment</div>
        <div>
          <select
            class="input-field"
            [(ngModel)]="selectedEquipment"
            (ngModelChange)="onEquipmentChange($event)"
            title="Equipment"
            required
          >
            <option *ngIf="selectedEquipment" [ngValue]="selectedEquipment">Current: {{ selectedEquipment.equipmentNumber }}
            </option>
            <option *ngFor="let equipment of equipmentList" [ngValue]="equipment">{{ equipment.equipmentNumber }}
            </option>
          </select>
        </div>

        <div class="font-semibold">Product (old)</div>
        <div>
          <select
            class="input-field"
            [(ngModel)]="selectedProductBefore"
            (ngModelChange)="onProductBeforeChange($event)"
            title="Product Before"
            required
          >
            <option *ngIf="selectedProductBefore" [ngValue]="selectedProductBefore">Current: {{ selectedProductBefore.productNumber }}
            </option>
            <option *ngFor="let product of productList" [ngValue]="product">{{ product.productNumber }}
            </option>
          </select>
        </div>

        <div class="font-semibold">Product (new)</div>
        <div>
          <select
            class="input-field"
            [(ngModel)]="selectedProductAfter"
            (ngModelChange)="onProductAfterChange($event)"
            title="Product After"
            required
          >
            <option *ngIf="selectedProductAfter" [ngValue]="selectedProductAfter">Current: {{ selectedProductAfter.productNumber }}
            </option>
            <option *ngFor="let product of productList" [ngValue]="product">{{ product.productNumber }}
            </option>
          </select>
        </div>
      </div>

      <div class="text-center mt-4">
        <app-button
          (onClick)="createOrder($event)"
          [disabled]="createDisabled"
          [label]="createBtnLabel"
        ></app-button>
      </div>
    </div>
  </div>
</div>

