<div class="min-w-[300px] min-h-[200px]">
    <ng-container *ngIf="orderExists; else noOrder">
        <ng-container *ngIf="order.workflows.length > 0; else noWorkflows">
            <mat-accordion>
                <!-- Existing Workflows -->
                <mat-expansion-panel *ngFor="let workflow of order.workflows; let i = index; trackBy: trackByIndex"
                    [expanded]="expandedPanels[i]" [disabled]="isAnyWorkflowInEditMode()">
                    
                    <mat-expansion-panel-header 
                        (click)="!isAnyWorkflowInEditMode() && selectWorkflow(i)"
                        [ngClass]="{'expanded-header': expandedPanels[i], 'collapsed-header': !expandedPanels[i]}"
                    >
                        <mat-panel-title>
                            {{ workflow.name }}
                        </mat-panel-title>
                        
                    </mat-expansion-panel-header>

                    <div class="expansion-panel-content">
                        <p>{{ workflow.description }}</p>
                    </div>
                </mat-expansion-panel>

            </mat-accordion>
        </ng-container>
    </ng-container>
    <ng-template #noWorkflows>
        <h1 class="font-bold text-red-600 text-lg">There are no workflows in the specified order!</h1>
    </ng-template>
    <ng-template #noOrder>
        <h1>The specified order could not be found!</h1>
    </ng-template>
</div>
